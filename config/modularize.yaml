# ===================================================================
#  Archivo de configuración: ./config/modularize.yaml
# ===================================================================
#  OBJETIVO:
#    Configuración GENERAL para modularización de OpenAPI.
#    Las opciones específicas de estilo (scaffolding) se definen
#    en config/scaffoldings.yaml
#
#  Comandos que usan este archivo:
#    - oas3-modularize modularize
#    - oas3-modularize transform
# ===================================================================

# -------------------------------------------------------------------
# RUTAS
# -------------------------------------------------------------------
paths:
  # Ruta del archivo OpenAPI monolítico de entrada
  input: "./api/openapi.yaml"

  # Carpeta donde se generará la estructura modular
  output: "./src"

  # Nombre del archivo principal (entrypoint) sin extensión
  mainFileName: "main"

# -------------------------------------------------------------------
# COMPORTAMIENTO GENERAL
# -------------------------------------------------------------------
behavior:
  # Limpia la carpeta de salida antes de generar (pide confirmación)
  cleanOutputDir: true

  # Ajusta referencias internas ($ref) a rutas relativas
  fixRefs: true

  # Valida el resultado con Redocly al finalizar
  validateAfterModularize: true

# -------------------------------------------------------------------
# QUÉ MODULARIZAR
# -------------------------------------------------------------------
# Controla qué secciones se separan en archivos individuales.
# Si una opción está en false, esa sección permanece en el entrypoint.

modularization:
  paths: true
  schemas: true
  responses: true
  requestBodies: true
  parameters: true
  headers: true
  securitySchemes: true
  examples: true

  # Incluir componentes no referenciados en paths
  includeUnusedComponents: true

# -------------------------------------------------------------------
# CONVENCIONES DE NOMBRES (DEFAULTS)
# -------------------------------------------------------------------
# Aplican cuando el scaffolding no especifica algo diferente.

naming:
  # Convención para nombres de archivos de componentes
  components: "PascalCase"

  # Convención para nombres de archivos de paths
  paths: "kebab-case"

# -------------------------------------------------------------------
# PREFIJOS GLOBALES
# -------------------------------------------------------------------
# Los sufijos se definen por scaffolding en scaffoldings.yaml

affixes:
  enabled: true
  prefixes:
    schemas: ""
    responses: ""
    requestBodies: ""
    parameters: ""
    headers: ""
    securitySchemes: ""
    examples: ""

# -------------------------------------------------------------------
# OPCIONES AVANZADAS
# -------------------------------------------------------------------
advanced:
  # Extensión de archivos: ".yaml", ".yml", ".json"
  fileExtension: ".yaml"

  # Prefijo para todos los archivos (útil para monorepos)
  filenamePrefix: ""

  # Indentación YAML (2 o 4 espacios)
  indent: 2

  # Elimina carpetas vacías después de modularizar
  removeEmptyFolders: true